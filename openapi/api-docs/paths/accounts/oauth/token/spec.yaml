post:
  tags:
    - Token
  summary: Authenticates users on FI.SPAN platform
  description: |
    Doing the authentication requires that the grant_type is sent as a parameter. The possible grant types are:
    * `client_credentials`: Used for service providers and end users.
    * `password`: Used for admin users.
  operationId: getOAuthToken
  security:
    - basicAuth: []
  parameters:
    - $ref: "../../../../components/parameters/accounts/oauth/token/grant-type.yaml"
    - $ref: "../../../../components/parameters/accounts/oauth/token/username.yaml"
    - $ref: "../../../../components/parameters/accounts/oauth/token/password.yaml"
  responses:
    '200':
      description: Success
      content:
        application/json:
          schema:
            $ref: "../../../../components/model/accounts/oauth/token/token.yaml"
          example:
            access_token: 261e80be-58e1-4ecf-8f24-c1cc3f8ff168
            token_type: bearer
            expires_in: 1800
            scope: read write
    '400':
      description: Invalid Request
      content:
        application/json:
          schema:
            $ref: "../../../../components/model/error.yaml"
          example:
            error: unsupported_grant_type
            error_description: Unsupported grant type
